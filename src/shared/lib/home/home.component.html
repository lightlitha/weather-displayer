<p-card *ngIf="forecastData else guestContent" header="Weather Report">
  <ng-template pTemplate="header">
    <div class="text-center">
      <h3>Weather for Latitude: {{forecastData.latitude}}, Longitude: {{forecastData.longitude}}</h3>
      <h5>Timezone: {{forecastData.timezone}} ({{forecastData.timezone_abbreviation}})</h5>
      <p>Temperature: {{ forecastData.current.temperature_2m }} {{ forecastData.current_units.temperature_2m }}</p>
      <p>Time: {{ forecastData.current.time }}</p>
    </div>
  </ng-template>

  <ng-template pTemplate="content">
    <p-table [value]="hourlyWeather" [rows]="10" [paginator]="true" [rowsPerPageOptions]="[10,20,30]"
      responsiveLayout="scroll">
      <ng-template pTemplate="header">
        <tr>
          <th>Time</th>
          <th>Temperature {{ forecastData.hourly_units.temperature_2m }}</th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-hour>
        <tr>
          <td>{{hour.time | date: 'short'}}</td>
          <td>{{hour.temperature_2m}} {{ forecastData.hourly_units.temperature_2m }}</td>
        </tr>
      </ng-template>
    </p-table>
  </ng-template>
</p-card>

<ng-template #guestContent>
  <p>Forecast data is missing</p>
</ng-template>